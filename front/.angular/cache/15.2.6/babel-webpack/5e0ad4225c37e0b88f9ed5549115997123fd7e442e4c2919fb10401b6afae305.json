{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/accomodation/services/agency.service\";\nimport * as i2 from \"@angular/router\";\nfunction AgencyDetailsComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\");\n    i0.ɵɵtext(2, \"Agency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\")(4, \"label\")(5, \"strong\");\n    i0.ɵɵtext(6, \"Title:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\")(9, \"label\")(10, \"strong\");\n    i0.ɵɵtext(11, \"Country:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\")(14, \"label\")(15, \"strong\");\n    i0.ɵɵtext(16, \"Region:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\")(19, \"label\")(20, \"strong\");\n    i0.ɵɵtext(21, \"Address:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"a\", 3);\n    i0.ɵɵtext(24, \" Edit \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentAgency.name, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentAgency.country, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentAgency.region, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentAgency.adress, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/agencies/\", ctx_r3.currentAgency.id, \"\");\n  }\n}\nfunction AgencyDetailsComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Please click on a Agency...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AgencyDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AgencyDetailsComponent_div_0_div_1_Template, 25, 5, \"div\", 2);\n    i0.ɵɵtemplate(2, AgencyDetailsComponent_div_0_div_2_Template, 4, 0, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentAgency.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.currentAgency);\n  }\n}\nfunction AgencyDetailsComponent_ng_template_1_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"h4\");\n    i0.ɵɵtext(2, \"Agency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\")(4, \"div\", 6)(5, \"label\", 7);\n    i0.ɵɵtext(6, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function AgencyDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.currentAgency.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 6)(9, \"label\", 9);\n    i0.ɵɵtext(10, \"Country\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function AgencyDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.currentAgency.country = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 11);\n    i0.ɵɵtext(14, \"Region\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function AgencyDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.currentAgency.region = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 6)(17, \"label\", 13);\n    i0.ɵɵtext(18, \"Adress\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function AgencyDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.currentAgency.adress = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AgencyDetailsComponent_ng_template_1_div_0_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.deleteAgency());\n    });\n    i0.ɵɵtext(21, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function AgencyDetailsComponent_ng_template_1_div_0_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.updateAgency());\n    });\n    i0.ɵɵtext(23, \" Update \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentAgency.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentAgency.country);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentAgency.region);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentAgency.adress);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r5.message);\n  }\n}\nfunction AgencyDetailsComponent_ng_template_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Cannot access this Agency...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AgencyDetailsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, AgencyDetailsComponent_ng_template_1_div_0_Template, 26, 5, \"div\", 4);\n    i0.ɵɵtemplate(1, AgencyDetailsComponent_ng_template_1_div_1_Template, 4, 0, \"div\", 2);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.currentAgency.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.currentAgency.id);\n  }\n}\nexport class AgencyDetailsComponent {\n  constructor(agencyService, route, router) {\n    this.agencyService = agencyService;\n    this.route = route;\n    this.router = router;\n    this.viewMode = false;\n    this.currentAgency = {\n      name: '',\n      country: '',\n      region: '',\n      adress: ''\n    };\n    this.message = '';\n  }\n  ngOnInit() {\n    if (!this.viewMode) {\n      this.message = '';\n      this.getAgency(this.route.snapshot.params[\"id\"]);\n    }\n  }\n  getAgency(id) {\n    this.agencyService.get(id).subscribe({\n      next: data => {\n        this.currentAgency = data;\n        console.log(data);\n      },\n      error: e => console.error(e)\n    });\n  }\n  updateAgency() {\n    this.message = '';\n    this.agencyService.update(this.currentAgency).subscribe({\n      next: res => {\n        console.log(res);\n        this.message = res.message ? res.message : 'This agency was updated successfully!';\n      },\n      error: e => console.error(e)\n    });\n  }\n  deleteAgency() {\n    this.agencyService.delete(this.currentAgency.id).subscribe({\n      next: res => {\n        console.log(res);\n        this.router.navigate(['/listAgencies']);\n      },\n      error: e => console.error(e)\n    });\n  }\n}\nAgencyDetailsComponent.ɵfac = function AgencyDetailsComponent_Factory(t) {\n  return new (t || AgencyDetailsComponent)(i0.ɵɵdirectiveInject(i1.AgencyService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nAgencyDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AgencyDetailsComponent,\n  selectors: [[\"app-agency-details\"]],\n  inputs: {\n    viewMode: \"viewMode\",\n    currentAgency: \"currentAgency\"\n  },\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"editable\", \"\"], [4, \"ngIf\"], [1, \"badge\", \"badge-warning\", 3, \"routerLink\"], [\"class\", \"edit-form\", 4, \"ngIf\"], [1, \"edit-form\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"region\"], [\"id\", \"region\", \"required\", \"\", \"name\", \"region\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"adress\"], [\"id\", \"adress\", \"required\", \"\", \"name\", \"adress\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-outline-danger\", \"m-3\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\", 3, \"click\"]],\n  template: function AgencyDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AgencyDetailsComponent_div_0_Template, 3, 2, \"div\", 0);\n      i0.ɵɵtemplate(1, AgencyDetailsComponent_ng_template_1_Template, 2, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.viewMode)(\"ngIfElse\", _r1);\n    }\n  },\n  styles: [\".edit-form[_ngcontent-%COMP%] {\\r\\n  max-width: 400px;\\r\\n  margin: auto;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWNjb21vZGF0aW9uL2NvbXBvbmVudHMvQWdlbmN5L2FnZW5jeS1kZXRhaWxzL2FnZW5jeS1kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWTtBQUNkIiwic291cmNlc0NvbnRlbnQiOlsiLmVkaXQtZm9ybSB7XHJcbiAgbWF4LXdpZHRoOiA0MDBweDtcclxuICBtYXJnaW46IGF1dG87XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AgencyDetailsComponent","constructor","agencyService","route","router","name","country","region","adress","ngOnInit","viewMode","message","getAgency","snapshot","params","id","get","subscribe","next","data","currentAgency","console","log","error","e","updateAgency","update","res","deleteAgency","delete","navigate","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\IHEB\\Desktop\\User-final\\pidev-vff\\front\\src\\app\\accomodation\\components\\Agency\\agency-details\\agency-details.component.html","C:\\Users\\IHEB\\Desktop\\User-final\\pidev-vff\\front\\src\\app\\accomodation\\components\\Agency\\agency-details\\agency-details.component.ts"],"sourcesContent":["<div *ngIf=\"viewMode; else editable\">\r\n  <div *ngIf=\"currentAgency.id\">\r\n    <h4>Agency</h4>\r\n    <div>\r\n      <label><strong>Title:</strong></label> {{ currentAgency.name }}\r\n    </div>\r\n    <div>\r\n      <label><strong>Country:</strong></label>\r\n      {{ currentAgency.country }}\r\n    </div>\r\n    \r\n    <div>\r\n      <label><strong>Region:</strong></label>\r\n      {{ currentAgency.region }}\r\n    </div>\r\n    <div>\r\n      <label><strong>Address:</strong></label>\r\n      {{ currentAgency.adress }}\r\n    </div>\r\n\r\n    <a\r\n      class=\"badge badge-warning\"\r\n      routerLink=\"/agencies/{{ currentAgency.id }}\"\r\n    >\r\n      Edit\r\n    </a>\r\n  </div>\r\n\r\n  <div *ngIf=\"!currentAgency\">\r\n    <br />\r\n    <p>Please click on a Agency...</p>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #editable>\r\n  <div *ngIf=\"currentAgency.id\" class=\"edit-form\">\r\n    <h4>Agency</h4>\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label for=\"title\">Title</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"title\"\r\n          [(ngModel)]=\"currentAgency.name\"\r\n          name=\"title\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"description\">Country</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"description\"\r\n          [(ngModel)]=\"currentAgency.country\"\r\n          name=\"description\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"region\">Region</label>\r\n        <input\r\n          class=\"form-control\"\r\n          id=\"region\"\r\n          required\r\n          [(ngModel)]=\"currentAgency.region\"\r\n          name=\"region\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"adress\">Adress</label>\r\n        <input\r\n          class=\"form-control\"\r\n          id=\"adress\"\r\n          required\r\n          [(ngModel)]=\"currentAgency.adress\"\r\n          name=\"adress\"\r\n        />\r\n      </div>\r\n      \r\n    </form>\r\n    <!--\r\n    <button\r\n      class=\"badge badge-primary mr-2\"\r\n      *ngIf=\"currentAgency.published\"\r\n      (click)=\"updatePublished(false)\"\r\n    >\r\n      UnPublish\r\n    </button>\r\n    <button\r\n      *ngIf=\"!currentAgency.published\"\r\n      class=\"badge badge-primary mr-2\"\r\n      (click)=\"updatePublished(true)\"\r\n    >\r\n      Publish\r\n    </button>\r\n    -->\r\n\r\n    <button class=\"btn btn-outline-danger m-3\" (click)=\"deleteAgency()\">\r\n      Delete\r\n    </button>\r\n\r\n    <button\r\n      type=\"submit\"\r\n      class=\"btn btn-outline-success \"\r\n      (click)=\"updateAgency()\"\r\n    >\r\n      Update\r\n    </button>\r\n    <p>{{ message }}</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"!currentAgency.id\">\r\n    <br />\r\n    <p>Cannot access this Agency...</p>\r\n  </div>\r\n</ng-template>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Agency } from 'src/app/accomodation/models/agency.model';\r\nimport { AgencyService } from 'src/app/accomodation/services/agency.service';\r\n@Component({\r\n  selector: 'app-agency-details',\r\n  templateUrl: './agency-details.component.html',\r\n  styleUrls: ['./agency-details.component.css']\r\n})\r\nexport class AgencyDetailsComponent implements OnInit {\r\n\r\n  @Input() viewMode = false;\r\n\r\n  @Input() currentAgency: Agency = {\r\n    name: '',\r\n      country: '',\r\n      region: '',\r\n      adress: ''\r\n  };\r\n  \r\n  message = '';\r\n\r\n  constructor(\r\n    private agencyService: AgencyService,\r\n    private route: ActivatedRoute,\r\n    private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.viewMode) {\r\n      this.message = '';\r\n      this.getAgency(this.route.snapshot.params[\"id\"]);\r\n    }\r\n  }\r\n\r\n  getAgency(id: string): void {\r\n    this.agencyService.get(id)\r\n      .subscribe({\r\n        next: (data) => {\r\n          this.currentAgency = data;\r\n          console.log(data);\r\n        },\r\n        error: (e) => console.error(e)\r\n      });\r\n  }\r\n\r\n\r\n  updateAgency(): void {\r\n    this.message = '';\r\n\r\n    this.agencyService.update(this.currentAgency)\r\n      .subscribe({\r\n        next: (res) => {\r\n          console.log(res);\r\n          this.message = res.message ? res.message : 'This agency was updated successfully!';\r\n        },\r\n        error: (e) => console.error(e)\r\n      });\r\n  }\r\n\r\n  deleteAgency(): void {\r\n    this.agencyService.delete(this.currentAgency.id)\r\n      .subscribe({\r\n        next: (res) => {\r\n          console.log(res);\r\n          this.router.navigate(['/listAgencies']);\r\n        },\r\n        error: (e) => console.error(e)\r\n      });\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}