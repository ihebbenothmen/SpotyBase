{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/event.service\";\nimport * as i2 from \"@angular/router\";\nfunction ListEventsComponent_tr_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\")(24, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ListEventsComponent_tr_32_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const event_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteEvent(event_r1.id));\n    });\n    i0.ɵɵtext(25, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"td\")(27, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ListEventsComponent_tr_32_Template_button_click_27_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const event_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateEvent(event_r1.id));\n    });\n    i0.ɵɵtext(28, \"Update\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const event_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.id, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.typeEvent, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.nbreDePlaces, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.modaliteEvent, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.image, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 10, event_r1.dateF, \"dd/MM/yy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(20, 13, event_r1.dateD, \"dd/MM/yy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", event_r1.speaker, \" \");\n  }\n}\nexport class ListEventsComponent {\n  constructor(eventsService, router) {\n    this.eventsService = eventsService;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.reloadData();\n  }\n  reloadData() {\n    this.events = this.eventsService.getEvents();\n  }\n  deleteEvent(id) {\n    this.eventsService.deleteEvent(id).subscribe({\n      next: response => console.log(response),\n      error: error => console.log(error),\n      complete: () => console.log('Delete request completed.')\n    });\n  }\n  updateEvent(id) {\n    this.router.navigate(['editEvent', id]);\n  }\n  downloadFile(data, filename) {\n    const url = window.URL.createObjectURL(data);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename;\n    link.click();\n  }\n}\nListEventsComponent.ɵfac = function ListEventsComponent_Factory(t) {\n  return new (t || ListEventsComponent)(i0.ɵɵdirectiveInject(i1.EventsService), i0.ɵɵdirectiveInject(i2.Router));\n};\nListEventsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListEventsComponent,\n  selectors: [[\"app-list-events\"]],\n  decls: 34,\n  vars: 3,\n  consts: [[1, \"col-12\"], [1, \"rounded\", \"h-100\", \"p-4\"], [1, \"mb-4\"], [1, \"table-responsive\"], [1, \"table\", \"table-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-info\", 2, \"margin-left\", \"10px\", 3, \"click\"]],\n  template: function ListEventsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h6\", 2);\n      i0.ɵɵtext(3, \"List Of Events\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"table\", 4)(6, \"thead\")(7, \"tr\")(8, \"th\", 5);\n      i0.ɵɵtext(9, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\", 5);\n      i0.ɵɵtext(11, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 5);\n      i0.ɵɵtext(13, \"Type Event\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 5);\n      i0.ɵɵtext(15, \"Nbr Place \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 5);\n      i0.ɵɵtext(17, \"Modalite Event\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 5);\n      i0.ɵɵtext(19, \"Organisateur de l'\\u00E9v\\u00E9nement\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 5);\n      i0.ɵɵtext(21, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 5);\n      i0.ɵɵtext(23, \"Date Fin\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\", 5);\n      i0.ɵɵtext(25, \"Date Debut\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\", 5);\n      i0.ɵɵtext(27, \"Invit\\u00E9s sp\\u00E9ciaux\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\", 5);\n      i0.ɵɵtext(29, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"tbody\");\n      i0.ɵɵelement(31, \"tr\");\n      i0.ɵɵtemplate(32, ListEventsComponent_tr_32_Template, 29, 16, \"tr\", 6);\n      i0.ɵɵpipe(33, \"async\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(32);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(33, 1, ctx.events));\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","ListEventsComponent","constructor","eventsService","router","ngOnInit","reloadData","events","getEvents","deleteEvent","id","subscribe","next","response","console","log","error","complete","updateEvent","navigate","downloadFile","data","filename","url","window","URL","createObjectURL","link","document","createElement","href","download","click","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\IHEB\\Desktop\\User-final\\pidev-vff\\front\\src\\app\\Events\\list-events\\list-events.component.html","C:\\Users\\IHEB\\Desktop\\User-final\\pidev-vff\\front\\src\\app\\Events\\list-events\\list-events.component.ts"],"sourcesContent":["\r\n<div class=\"col-12\">\r\n    <div class=\" rounded h-100 p-4\">\r\n        <h6 class=\"mb-4\">List Of Events</h6>\r\n        <div class=\"table-responsive\">\r\n            <table class=\"table table-dark\">\r\n                <thead>\r\n                    <tr>  \r\n                      \r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Title</th>\r\n                        <th scope=\"col\">Type Event</th>\r\n                        <th scope=\"col\">Nbr Place </th>\r\n                        <th scope=\"col\">Modalite Event</th>\r\n                        <th scope=\"col\">Organisateur de l'événement</th>\r\n                        <th scope=\"col\">Description</th>\r\n\r\n                        <th scope=\"col\">Date Fin</th>\r\n                        <th scope=\"col\">Date Debut</th>\r\n                        <th scope=\"col\">Invités spéciaux</th>\r\n                        <th scope=\"col\">Action</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <tr *ngFor=\"let event of events | async\">\r\n                            <td>      {{ event.id }}    </td>\r\n                            <td>      {{ event.title }}    </td>\r\n                            <td>      {{ event.typeEvent }}    </td>\r\n                            <td>      {{ event.nbreDePlaces }}    </td>\r\n                            <td>      {{ event.modaliteEvent }}    </td>\r\n                            <td>      {{ event.image }}    </td>\r\n\r\n\r\n                                <td>      {{ event.description }}    </td>\r\n                            <td>{{ event.dateF | date: 'dd/MM/yy' }}</td>\r\n                            <td>{{ event.dateD | date: 'dd/MM/yy' }}</td>\r\n                            <td>      {{ event.speaker }}    </td>\r\n\r\n\r\n                            <td> <button (click)=\"deleteEvent(event.id)\" class=\"btn btn-danger\">Delete</button>\r\n                          </td>\r\n                          <td>              <button (click)=\"updateEvent(event.id)\" class=\"btn btn-info\" style=\"margin-left: 10px\">Update</button>\r\n                          </td>  \r\n\r\n                    </tr>\r\n                   \r\n                   \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Event } from '../../model/Event/event.model';\r\nimport { EventsService } from '../../shared/event.service';\r\nimport { Observable } from \"rxjs\";\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-list-events',\r\n  templateUrl: './list-events.component.html',\r\n})\r\nexport class ListEventsComponent implements OnInit {\r\n\r\n  events!: Observable<Event[]>;\r\n\r\n  constructor(private eventsService: EventsService  ,private router: Router){ }\r\n\r\n  ngOnInit() {\r\n    this.reloadData();\r\n  }\r\n  reloadData() {\r\n    this.events = this.eventsService.getEvents();\r\n  }\r\n\r\n  deleteEvent(id: number): void {\r\n    this.eventsService.deleteEvent(id).subscribe({\r\n      next: response => console.log(response),\r\n      error: error => console.log(error),\r\n      complete: () => console.log('Delete request completed.')\r\n    });\r\n\r\n  }\r\n  updateEvent(id: number){\r\n    this.router.navigate(['editEvent', id]);\r\n  }\r\n \r\n  \r\n\r\n\r\n\r\n  private downloadFile(data: Blob, filename: string) {\r\n    const url = window.URL.createObjectURL(data);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = filename;\r\n    link.click();\r\n  }\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}