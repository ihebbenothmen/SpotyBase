{"ast":null,"code":"import { ImageItem } from 'ng-gallery';\nimport { HouseType2LabelMapping, TypeHouses } from 'src/app/accomodation/models/house.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/accomodation/services/houses.service\";\nimport * as i2 from \"src/app/accomodation/services/agency.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common/http\";\nfunction HouseDetailsComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\");\n    i0.ɵɵtext(2, \"House\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\")(4, \"label\")(5, \"strong\");\n    i0.ɵɵtext(6, \"Type:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\")(9, \"label\")(10, \"strong\");\n    i0.ɵɵtext(11, \"Country:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\")(14, \"label\")(15, \"strong\");\n    i0.ɵɵtext(16, \"Region:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"a\", 3);\n    i0.ɵɵtext(19, \" Edit \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentHouse.type_houses, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentHouse.country, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentHouse.region, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/houses/\", ctx_r3.currentHouse.id, \"\");\n  }\n}\nfunction HouseDetailsComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Please click on a House...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HouseDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HouseDetailsComponent_div_0_div_1_Template, 20, 4, \"div\", 2);\n    i0.ɵɵtemplate(2, HouseDetailsComponent_div_0_div_2_Template, 4, 0, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentHouse.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.currentHouse);\n  }\n}\nfunction HouseDetailsComponent_ng_template_1_div_0_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fileType_r10 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"value\", fileType_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.HouseType2LabelMapping[fileType_r10], \" \");\n  }\n}\nfunction HouseDetailsComponent_ng_template_1_div_0_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const agency_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", agency_r11.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", agency_r11.name, \" \");\n  }\n}\nfunction HouseDetailsComponent_ng_template_1_div_0_output_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"output\", 23)(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r9.successResponse);\n  }\n}\nfunction HouseDetailsComponent_ng_template_1_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"h4\");\n    i0.ɵɵtext(2, \"House\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\")(4, \"div\", 6)(5, \"label\", 7);\n    i0.ɵɵtext(6, \"House type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"select\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function HouseDetailsComponent_ng_template_1_div_0_Template_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.currentHouse.type_houses = $event);\n    });\n    i0.ɵɵtemplate(9, HouseDetailsComponent_ng_template_1_div_0_option_9_Template, 2, 2, \"option\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 6)(11, \"label\", 7);\n    i0.ɵɵtext(12, \"Country\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function HouseDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.currentHouse.country = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 6)(15, \"label\", 7);\n    i0.ɵɵtext(16, \"Region\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function HouseDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.currentHouse.region = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 6)(19, \"label\", 7);\n    i0.ɵɵtext(20, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function HouseDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.currentHouse.adress = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 6)(23, \"label\", 7);\n    i0.ɵɵtext(24, \"Loyer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function HouseDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.currentHouse.loyer = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 6)(27, \"label\", 7);\n    i0.ɵɵtext(28, \"Number of rooms\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function HouseDetailsComponent_ng_template_1_div_0_Template_input_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.currentHouse.nbrOfRooms = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 6)(31, \"label\", 7);\n    i0.ɵɵtext(32, \"House type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(33, \"br\");\n    i0.ɵɵelementStart(34, \"label\", 7);\n    i0.ɵɵtext(35, \"Agency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"select\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function HouseDetailsComponent_ng_template_1_div_0_Template_select_ngModelChange_37_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.currentHouse.agencyName = $event);\n    });\n    i0.ɵɵtemplate(38, HouseDetailsComponent_ng_template_1_div_0_option_38_Template, 2, 2, \"option\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 6)(40, \"input\", 16);\n    i0.ɵɵlistener(\"change\", function HouseDetailsComponent_ng_template_1_div_0_Template_input_change_40_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.onImageUpload($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"input\", 17);\n    i0.ɵɵlistener(\"click\", function HouseDetailsComponent_ng_template_1_div_0_Template_input_click_41_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.imageUploadAction());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\");\n    i0.ɵɵtemplate(43, HouseDetailsComponent_ng_template_1_div_0_output_43_Template, 3, 1, \"output\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(44, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\");\n    i0.ɵɵelement(46, \"gallery\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(47, \"br\");\n    i0.ɵɵelementStart(48, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function HouseDetailsComponent_ng_template_1_div_0_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.deleteHouse());\n    });\n    i0.ɵɵtext(49, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function HouseDetailsComponent_ng_template_1_div_0_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.updateHouse());\n    });\n    i0.ɵɵtext(51, \" Update \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"p\");\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentHouse.type_houses);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.Types);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentHouse.country);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentHouse.region);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentHouse.adress);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentHouse.loyer);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentHouse.nbrOfRooms);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.currentHouse.agencyName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.agencies);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.successResponse);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"items\", ctx_r5.images);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r5.message);\n  }\n}\nfunction HouseDetailsComponent_ng_template_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Cannot access this House...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HouseDetailsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, HouseDetailsComponent_ng_template_1_div_0_Template, 54, 12, \"div\", 4);\n    i0.ɵɵtemplate(1, HouseDetailsComponent_ng_template_1_div_1_Template, 4, 0, \"div\", 2);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.currentHouse.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.currentHouse.id);\n  }\n}\nexport class HouseDetailsComponent {\n  constructor(houseService, AgencyService, route, httpClient, router) {\n    this.houseService = houseService;\n    this.AgencyService = AgencyService;\n    this.route = route;\n    this.httpClient = httpClient;\n    this.router = router;\n    this.HouseType2LabelMapping = HouseType2LabelMapping;\n    this.Types = Object.values(TypeHouses);\n    this.viewMode = false;\n    this.currentHouse = {\n      type_houses: undefined,\n      country: '',\n      region: '',\n      adress: '',\n      loyer: 0,\n      available: true,\n      nbrOfRooms: 0,\n      agencyName: '',\n      agency: ''\n    };\n    this.message = '';\n  }\n  ngOnInit() {\n    this.images = [new ImageItem({\n      src: 'IMAGE_SRC_URL',\n      thumb: 'IMAGE_THUMBNAIL_URL'\n    })\n    // ... more items\n    ];\n\n    if (!this.viewMode) {\n      this.message = '';\n      this.getHouse(this.route.snapshot.params[\"id\"]);\n      this.getImages(this.route.snapshot.params[\"id\"]);\n    }\n    this.retrieveAgencies();\n  }\n  retrieveAgencies() {\n    this.AgencyService.getAll().subscribe({\n      next: data => {\n        this.agencies = data;\n        console.log(data);\n      },\n      error: e => console.error(e)\n    });\n  }\n  getHouse(id) {\n    this.houseService.get(id).subscribe({\n      next: data => {\n        this.currentHouse = data;\n        console.log(data);\n      },\n      error: e => console.error(e)\n    });\n  }\n  updateHouse() {\n    this.message = '';\n    this.houseService.update(this.currentHouse).subscribe({\n      next: res => {\n        console.log(res);\n        this.message = res.message ? res.message : 'This house was updated successfully!';\n      },\n      error: e => console.error(e)\n    });\n  }\n  deleteHouse() {\n    this.houseService.delete(this.currentHouse.id).subscribe({\n      next: res => {\n        console.log(res);\n        this.router.navigate(['/listHouses']);\n      },\n      error: e => console.error(e)\n    });\n  }\n  onImageUpload(event) {\n    this.uploadedImage = event.target.files[0];\n  }\n  imageUploadAction() {\n    const imageFormData = new FormData();\n    imageFormData.append('image', this.uploadedImage, this.uploadedImage.name);\n    this.httpClient.post('http://localhost:8060/InterMove/Houses/upload/image/' + this.currentHouse.id, imageFormData, {\n      observe: 'response'\n    }).subscribe(response => {\n      if (response.status === 200) {\n        this.postResponse = response;\n        this.successResponse = this.postResponse.body.message;\n      } else {\n        this.successResponse = 'Image not uploaded due to some error!';\n      }\n    });\n  }\n  viewImage() {\n    this.httpClient.get('http://localhost:8060/InterMove/get/image/info/' + this.image).subscribe(res => {\n      this.postResponse = res;\n      this.dbImage = 'data:image/jpeg;base64,' + this.postResponse.image;\n    });\n  }\n  getImages(id) {\n    this.httpClient.get('http://localhost:8060/InterMove/Houses/get/houseimage/' + id).subscribe({\n      next: data => {\n        this.allImages = data;\n        for (let i = 0; i < this.allImages.length; i++) {\n          /*\r\n          this.images = [\r\n            new ImageItem({ src: 'http://localhost:8088/Houses/get/image/'+this.allImages[i].name, thumb: 'http://localhost:8088/Houses/get/image/'+this.allImages[i].name }),\r\n            new ImageItem({ src: 'http://localhost:8088/Houses/get/image/'+this.allImages[i+1].name, thumb: 'http://localhost:8088/Houses/get/image/'+this.allImages[i+1].name })\r\n          ];\r\n          */\n          this.images[i] = new ImageItem({\n            src: 'http://localhost:8060/InterMove/Houses/get/image/' + this.allImages[i].name,\n            thumb: 'http://localhost:8060/InterMove/Houses/get/image/' + this.allImages[i].name\n          });\n          console.log(this.allImages[i].name);\n        }\n        console.log(data);\n      },\n      error: e => console.error(e)\n    });\n  }\n}\nHouseDetailsComponent.ɵfac = function HouseDetailsComponent_Factory(t) {\n  return new (t || HouseDetailsComponent)(i0.ɵɵdirectiveInject(i1.HousesService), i0.ɵɵdirectiveInject(i2.AgencyService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.HttpClient), i0.ɵɵdirectiveInject(i3.Router));\n};\nHouseDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HouseDetailsComponent,\n  selectors: [[\"app-house-details\"]],\n  inputs: {\n    viewMode: \"viewMode\",\n    currentHouse: \"currentHouse\"\n  },\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"editable\", \"\"], [4, \"ngIf\"], [1, \"badge\", \"badge-warning\", 3, \"routerLink\"], [\"class\", \"edit-form\", 4, \"ngIf\"], [1, \"edit-form\"], [1, \"form-group\"], [\"for\", \"description\"], [\"name\", \"type_houses\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"description\", \"required\", \"\", \"name\", \"region\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"description\", \"required\", \"\", \"name\", \"adress\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"description\", \"required\", \"\", \"name\", \"loyer\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"description\", \"required\", \"\", \"name\", \"nbrOfRooms\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"agencyName\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", 3, \"change\"], [\"type\", \"button\", \"value\", \"Upload Image\", 1, \"btn1\", 3, \"click\"], [\"class\", \"success\", 4, \"ngIf\"], [3, \"items\"], [1, \"btn\", \"btn-outline-danger\", \"m-3\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\", 3, \"click\"], [3, \"value\"], [1, \"success\"]],\n  template: function HouseDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, HouseDetailsComponent_div_0_Template, 3, 2, \"div\", 0);\n      i0.ɵɵtemplate(1, HouseDetailsComponent_ng_template_1_Template, 2, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.viewMode)(\"ngIfElse\", _r1);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ImageItem","HouseType2LabelMapping","TypeHouses","i0","HouseDetailsComponent","constructor","houseService","AgencyService","route","httpClient","router","Object","values","type_houses","undefined","country","region","adress","loyer","available","nbrOfRooms","agencyName","agency","ngOnInit","images","src","thumb","viewMode","message","getHouse","snapshot","params","getImages","retrieveAgencies","getAll","subscribe","next","data","agencies","console","log","error","e","id","get","currentHouse","updateHouse","update","res","deleteHouse","delete","navigate","onImageUpload","event","uploadedImage","target","files","imageUploadAction","imageFormData","FormData","append","name","post","observe","response","status","postResponse","successResponse","body","viewImage","image","dbImage","allImages","i","length","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\IHEB\\Desktop\\User-final\\pidev-vff\\front\\src\\app\\accomodation\\components\\Houses\\house-details\\house-details.component.ts","C:\\Users\\IHEB\\Desktop\\User-final\\pidev-vff\\front\\src\\app\\accomodation\\components\\Houses\\house-details\\house-details.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { GalleryItem, ImageItem } from 'ng-gallery';\r\nimport { Agency } from 'src/app/accomodation/models/agency.model';\r\nimport { House, HouseType2LabelMapping, TypeHouses } from 'src/app/accomodation/models/house.model';\r\nimport { HousesService } from 'src/app/accomodation/services/houses.service';\r\nimport { AgencyService } from 'src/app/accomodation/services/agency.service';\r\n\r\n@Component({\r\n  selector: 'app-house-details',\r\n  templateUrl: './house-details.component.html',\r\n  styleUrls: ['./house-details.component.css']\r\n})\r\nexport class HouseDetailsComponent implements OnInit {\r\n  images: GalleryItem[];\r\n  \r\n  public HouseType2LabelMapping = HouseType2LabelMapping;\r\n  public Types = Object.values(TypeHouses);\r\n  agencies?: Agency[];\r\n  agencyN?: '';\r\n  allImages :any; \r\n  @Input() viewMode = false;\r\n\r\n  @Input() currentHouse: House = {\r\n    type_houses: undefined,\r\n    country: '',\r\n    region: '',\r\n    adress: '',\r\n    loyer: 0,\r\n    available: true,\r\n    nbrOfRooms: 0,\r\n    agencyName: '',\r\n    agency: ''\r\n  };\r\n  \r\n  message = '';\r\n\r\n  constructor(\r\n    private houseService: HousesService,\r\n    private AgencyService: AgencyService,\r\n    private route: ActivatedRoute,\r\n    private httpClient: HttpClient,\r\n    private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.images = [\r\n      new ImageItem({ src: 'IMAGE_SRC_URL', thumb: 'IMAGE_THUMBNAIL_URL' }),\r\n      // ... more items\r\n    ];\r\n    if (!this.viewMode) {\r\n      this.message = '';\r\n      this.getHouse(this.route.snapshot.params[\"id\"]);\r\n      this.getImages(this.route.snapshot.params[\"id\"])\r\n    }\r\n    this.retrieveAgencies();\r\n  \r\n  }\r\n\r\n  retrieveAgencies(): void {\r\n    this.AgencyService.getAll()\r\n      .subscribe({\r\n        next: (data) => {\r\n          this.agencies = data;\r\n          console.log(data);\r\n        },\r\n        error: (e) => console.error(e)\r\n      });\r\n  }\r\n\r\n  getHouse(id: string): void {\r\n    this.houseService.get(id)\r\n      .subscribe({\r\n        next: (data) => {\r\n          this.currentHouse = data;\r\n          console.log(data);\r\n        },\r\n        error: (e) => console.error(e)\r\n      });\r\n  }\r\n\r\n\r\n  updateHouse(): void {\r\n    this.message = '';\r\n    \r\n    this.houseService.update(this.currentHouse)\r\n      .subscribe({\r\n        next: (res) => {\r\n          console.log(res);\r\n          this.message = res.message ? res.message : 'This house was updated successfully!';\r\n        },\r\n        error: (e) => console.error(e)\r\n      });\r\n  }\r\n\r\n  deleteHouse(): void {\r\n    this.houseService.delete(this.currentHouse.id)\r\n      .subscribe({\r\n        next: (res) => {\r\n          console.log(res);\r\n          this.router.navigate(['/listHouses']);\r\n        },\r\n        error: (e) => console.error(e)\r\n      });\r\n  }\r\n\r\n  uploadedImage: File;\r\n  dbImage: any;\r\n  postResponse: any;\r\n  successResponse: string;\r\n  image: any;\r\n\r\n  public onImageUpload(event) {\r\n    this.uploadedImage = event.target.files[0];\r\n  }\r\n\r\n\r\n  imageUploadAction() {\r\n    const imageFormData = new FormData();\r\n    imageFormData.append('image', this.uploadedImage, this.uploadedImage.name);\r\n\r\n\r\n    this.httpClient.post('http://localhost:8060/InterMove/Houses/upload/image/'+this.currentHouse.id, imageFormData, { observe: 'response' })\r\n      .subscribe((response) => {\r\n        if (response.status === 200) {\r\n          this.postResponse = response;\r\n          this.successResponse = this.postResponse.body.message;\r\n        } else {\r\n          this.successResponse = 'Image not uploaded due to some error!';\r\n        }\r\n      }\r\n      );\r\n    }\r\n\r\n  viewImage() {\r\n    this.httpClient.get('http://localhost:8060/InterMove/get/image/info/' + this.image)\r\n      .subscribe(\r\n        res => {\r\n          this.postResponse = res;\r\n          this.dbImage = 'data:image/jpeg;base64,' + this.postResponse.image;\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n     \r\n    \r\n    getImages(id: string) {    \r\n  \r\n      this.httpClient.get('http://localhost:8060/InterMove/Houses/get/houseimage/' + id)\r\n      .subscribe({\r\n        next: (data) => {\r\n          this.allImages = data;\r\n          \r\n      for (let i = 0; i < this.allImages.length; i++) {\r\n\r\n        /*\r\n        this.images = [\r\n          new ImageItem({ src: 'http://localhost:8088/Houses/get/image/'+this.allImages[i].name, thumb: 'http://localhost:8088/Houses/get/image/'+this.allImages[i].name }),\r\n          new ImageItem({ src: 'http://localhost:8088/Houses/get/image/'+this.allImages[i+1].name, thumb: 'http://localhost:8088/Houses/get/image/'+this.allImages[i+1].name })\r\n        ];\r\n        */\r\n       \r\n       this.images[i] = new ImageItem({ src: 'http://localhost:8060/InterMove/Houses/get/image/'+this.allImages[i].name, thumb: 'http://localhost:8060/InterMove/Houses/get/image/'+this.allImages[i].name });\r\n        \r\n        \r\n        console.log(this.allImages[i].name)\r\n        \r\n          }\r\n          console.log(data);\r\n        },\r\n        error: (e) => console.error(e)\r\n      }); \r\n    }    \r\n\r\n    \r\n    \r\n\r\n}\r\n","<div *ngIf=\"viewMode; else editable\">\r\n    <div *ngIf=\"currentHouse.id\">\r\n      <h4>House</h4>\r\n      <div>\r\n        <label><strong>Type:</strong></label> {{ currentHouse.type_houses }}\r\n      </div>\r\n      <div>\r\n        <label><strong>Country:</strong></label>\r\n        {{ currentHouse.country }}\r\n      </div>\r\n      <div>\r\n        <label><strong>Region:</strong></label>\r\n        {{ currentHouse.region }}\r\n      </div>\r\n      \r\n  \r\n      <a\r\n        class=\"badge badge-warning\"\r\n        routerLink=\"/houses/{{ currentHouse.id }}\"\r\n      >\r\n        Edit\r\n      </a>\r\n    </div>\r\n  \r\n    <div *ngIf=\"!currentHouse\">\r\n      <br />\r\n      <p>Please click on a House...</p>\r\n    </div>\r\n  </div>\r\n  \r\n  <ng-template #editable>\r\n    <div *ngIf=\"currentHouse.id\" class=\"edit-form\">\r\n      <h4>House</h4>\r\n      <form>\r\n        <div class=\"form-group\">\r\n          <label for=\"description\">House type</label><br>\r\n            <select [(ngModel)]=\"currentHouse.type_houses\" name=\"type_houses\">\r\n                <option *ngFor=\"let fileType of Types\"\r\n          [value]=\"fileType\">\r\n    {{HouseType2LabelMapping[fileType]}}\r\n  </option>\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"description\">Country</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"description\"\r\n            [(ngModel)]=\"currentHouse.country\"\r\n            name=\"description\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label for=\"description\">Region</label>\r\n            <input\r\n              class=\"form-control\"\r\n              id=\"description\"\r\n              required\r\n              [(ngModel)]=\"currentHouse.region\"\r\n              name=\"region\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"description\">Address</label>\r\n            <input\r\n              class=\"form-control\"\r\n              id=\"description\"\r\n              required\r\n              [(ngModel)]=\"currentHouse.adress\"\r\n              name=\"adress\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"description\">Loyer</label>\r\n            <input\r\n              class=\"form-control\"\r\n              id=\"description\"\r\n              required\r\n              [(ngModel)]=\"currentHouse.loyer\"\r\n              name=\"loyer\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"description\">Number of rooms</label>\r\n            <input\r\n              class=\"form-control\"\r\n              id=\"description\"\r\n              required\r\n              [(ngModel)]=\"currentHouse.nbrOfRooms\"\r\n              name=\"nbrOfRooms\"\r\n            />\r\n          </div>\r\n        <div class=\"form-group\">\r\n        <label for=\"description\">House type</label><br>\r\n        <label for=\"description\">Agency</label><br>\r\n          <select [(ngModel)]=\"currentHouse.agencyName\" name=\"agencyName\">\r\n          <option *ngFor=\"let agency of agencies\" [value]=\"agency.name\">\r\n              {{agency.name}}\r\n            </option>\r\n          </select>\r\n      </div>\r\n\r\n\r\n      <div class=\"form-group\">\r\n        <input type=\"file\" (change)=\"onImageUpload($event)\">\r\n        <input type=\"button\" (click)=\"imageUploadAction()\" value=\"Upload Image\" class=\"btn1\">\r\n    </div>\r\n  \r\n  \r\n    <div>\r\n        <output *ngIf=successResponse class=\"success\"><b>{{successResponse}}</b></output>\r\n    </div>\r\n    <br>\r\n  \r\n    \r\n        \r\n      </form>\r\n\r\n      <div>\r\n  <gallery [items]=\"images\"></gallery>\r\n    </div>\r\n\r\n<br>\r\n\r\n      \r\n  \r\n      <button class=\"btn btn-outline-danger m-3\" (click)=\"deleteHouse()\">\r\n        Delete\r\n      </button>\r\n  \r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-outline-success \"\r\n        (click)=\"updateHouse()\"\r\n      >\r\n        Update\r\n      </button>\r\n      <p>{{ message }}</p>\r\n    </div>\r\n  \r\n    <div *ngIf=\"!currentHouse.id\">\r\n      <br />\r\n      <p>Cannot access this House...</p>\r\n    </div>\r\n  </ng-template>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}